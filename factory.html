<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        ;(function(){
            class Operation{
                NumA
                NumB
                getResult(){}
            }
            class OperationAdd extends Operation{
                getResult(){
                    return this.NumA + this.NumB
                }
            }
            function OperationFactory(operate){
                let operation = null
                switch(operate){
                    case '+':
                        operation = new OperationAdd()
                        break
                }
                return operation
            }
            const add = OperationFactory('+')
            add.NumA = 0
            add.NumB = 1
            console.log(add.getResult())
            class OperationContext {
                constructor(op){
                    this.op = op
                }
                getResult(){
                    this.op.getResult()
                }
            }
            const operationCtx = new OperationContext(new OperationAdd())
            
            class Person {
                show(){
                    console.log('person show')
                }
            }
            class Finery{
                setPerson(component){
                    this.component = component
                }
                show(){
                    if(this.component){
                        this.component.show()
                    }
                }
            }
            class FineryA extends Finery{
                show(){
                    console.log('FineryA')
                    super.show()
                }
            }
            class FineryB extends Finery{
                show(){
                    console.log('FineryB')
                    super.show()
                }
            }
            const person = new Person()
            const fineryA = new FineryA()
            const fineryB = new FineryB()
            fineryA.setPerson(person)
            fineryB.setPerson(fineryA)
            fineryB.show()

            class MM{
                constructor(name){
                    this.name = name
                }
                getName(){
                    return this.name
                }
            }
            class GiveGift{
                constructor(mm){
                    this.mm = mm
                }
                giveDolls(){
                    console.log(this.mm.getName()+'givedolls')
                }
            }
            class Proxy{
                constructor(mm){
                    this.giveGift = new GiveGift(mm)
                }
                giveDolls(){
                    this.giveGift.giveDolls()
                }
            }
            const proxy = new Proxy(new MM('mm'))
            proxy.giveDolls()
            
            function addFactory(){
                return new OperationAdd()
            }

            function Resume(name){
                this.name = name
            }
            Resume.prototype.setInfo = function(age){
                this.age = age
            }
            const resumeA = new Resume('resumeA')
        })()
    </script>
    <script type="module">
        class Singleton{
            static singleton = new Singleton()
            static {
                console.log('static')
            }
            static getInstance(){
                return this.singleton
            }
            method(){
                console.log('method')
            }
        }
        const instance = Singleton.getInstance()
        instance.method()
        
        class AbstractProduct{
            methodA(){}
            methodB(){}
        }
        class ProductA extends AbstractProduct{
            constructor(){
                super()
            }
            methodA(){
                console.log('ProductA-methodA')
            }
            methodB(){
                console.log('ProductA-methodB')
            }
        }
        class ProductB extends AbstractProduct{
            constructor(){
                super()
            }
            methodA(){
                console.log('ProductB-methodA')
            }
            methodB(){
                console.log('ProductB-methodB')
            }
        }
        class Factory{
            static init(product){
                switch(product){
                    case 'a':
                        return new ProductA()
                        break
                    case 'b':
                        return new ProductB()
                        break
                    default:
                        throw new Error('not found')
                }
            }
        }
        const productA = Factory.init('a')
        const productB = Factory.init('b')
        productA.methodA()
        productB.methodA()
        
        class ProductAa extends AbstractProduct{
            methodA(){
                console.log('ProductAa-methodA')
            }
        }
        class ProductAb extends AbstractProduct{
            methodA(){
                console.log('ProductAb-methodA')
            }
        }
        class ProductBa extends AbstractProduct{
            methodA(){
                console.log('ProductBa-methodA')
            }
        }
        class ProductBb extends AbstractProduct{
            methodA(){
                console.log('ProductBb-methodA')
            }
        }
        class AbstractFactory{
            createA(){}
            createB(){}
        }
        class FactoryA extends AbstractFactory{
            createA(){
                return new ProductAa()
            }
            createB(){
                return new ProductBa()
            }
        }
        class FactoryB extends AbstractFactory{
            createA(){
                return new ProductAb()
            }
            createB(){
                return new ProductBb()
            }
        }
        const factoryA = new FactoryA()
        const factoryB = new FactoryB()
        factoryA.createA().methodA()
        factoryA.createB().methodA()
        factoryB.createA().methodA()
        factoryB.createB().methodA()
        
        class AbstractClass{
            methodA(){}
            methodB(){}
            templateMethod(){
                this.methodA()
                this.methodB()
            }
        }
        class ClassA extends AbstractClass{
            methodA(){
                console.log('ClassA-methodA')
            }
            methodB(){
                console.log('ClassA-methodB')
            }
        }
        class ClassB extends AbstractClass{
            methodA(){
                console.log('ClassB-methodA')
            }
            methodB(){
                console.log('ClassB-methodB')
            }
        }
        new ClassA().templateMethod()
        new ClassB().templateMethod()
        
        class AbstractBuilder{
            setPart(){}
            getProduct(){}
        }
        class BuilderA extends AbstractBuilder{
            product=new ProductA()
            setPart(){
                console.log('set a')
            }
            getProduct(){
                return this.product
            }
        }
        class Director{
            builder=new BuilderA()
            getProduct(){
                this.builder.setPart()
                return this.builder.getProduct()
            }
        }
        
        class Subject{
            request(){
                console.log('request')
            }
        }
        class Proxy{
            subject=new Subject()
            request(){
                console.log('before')
                this.subject.request()
                console.log('after')
            }
        }
        
    </script>
</body>
</html>